{% extends "base.html" %}
{% block title %}Blog — Company{% endblock %}
{% block content %}
<h1>Blog</h1>
{% for post in posts %}
  <article class="mb-4">
    <h3><a href="{{ url_for('blog_detail', slug=post.slug) }}">{{ post.title }}</a></h3>
    <div class="text-muted small">{{ post.created_at.strftime('%b %d, %Y') }}</div>
    <p>{{ post.body[:220] }}{% if post.body|length > 220 %}…{% endif %}</p>
  </article>
{% else %}
  <p>No posts published yet.</p>
{% endfor %}

<nav aria-label="Page navigation">
  <ul class="pagination">
    {% if pagination.has_prev %}
    <li class="page-item"><a class="page-link" href="{{ url_for('blog_list', page=pagination.prev_num) }}">Previous</a></li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Previous</span></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ pagination.page }} of {{ pagination.pages }}</span></li>
    {% if pagination.has_next %}
    <li class="page-item"><a class="page-link" href="{{ url_for('blog_list', page=pagination.next_num) }}">Next</a></li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Next</span></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
